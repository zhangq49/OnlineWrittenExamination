var limitedThree=true;var examNotStart=true;var routeConfig=function(){var $controllerProvider;function setControllerProvider(value){$controllerProvider=value}function register(n,c){if(!$controllerProvider){throw new Error("$controllerProvider is not set!")}$controllerProvider.register(n,c)}function config(url,templateUrl,controllerName,js){if(!$controllerProvider){throw new Error("$controllerProvider is not set!")}var defer,routeDefinition={};routeDefinition.url=url;routeDefinition.templateUrl=templateUrl;routeDefinition.controller=controllerName;routeDefinition.resolve={delay:function($q,$rootScope){defer=$q.defer();var dependencies=js;if(Array.isArray(dependencies)){for(var i=0;i<dependencies.length;i++){}}else{}$script(dependencies,function(){defer.resolve();$rootScope.$apply()});return defer.promise}};return routeDefinition}return{setControllerProvider:setControllerProvider,config:config,register:register}}();var app=angular.module("app",["ui.router",function($controllerProvider){routeConfig.setControllerProvider($controllerProvider)}]);if(Object.isNullString(cdn))cdn="";app.register=routeConfig.register;app.config(function($stateProvider,$urlRouterProvider){cdn="https://cdn.acmcoder.com/release/exam/1.2.4";$stateProvider.state("login",routeConfig.config("/login","/assets/plugin/login/index.html?v="+2,"LoginController",cdn+"/extra/login/controller.js?v="+2)).state("main",routeConfig.config("/main","/cand/main?v="+2,"MainController",cdn+"/extra/main/controller.js?v="+9)).state("main.personalInfo",routeConfig.config("/personalInfo","/cand/personalInfo?v="+2,"piController",cdn+"/extra/personalInfo/piController.js?v="+1)).state("main.rules",routeConfig.config("/rules","/cand/rules?v="+2,"rulesController",cdn+"/extra/rules/rulesController.js?v="+20180816)).state("main.myPhoto",routeConfig.config("/myPhoto","/cand/myPhoto?v="+2,"myPhotoController",cdn+"/extra/myPhoto/myPhotoController.js?v="+1)).state("main.practise",routeConfig.config("/practise","/cand/practise?v="+2,"practiseController",cdn+"/extra/practise/practiseController.js?v="+1)).state("main.start",routeConfig.config("/start","/cand/start?v="+2,"startController",cdn+"/extra/start/startController.js?v="+3)).state("main.answer",routeConfig.config("/answer/:paperId/:quesNo/:direction","/cand/answerAquestion?v="+2,"answerController",cdn+"/extra/answer/answerController.js")).state("main.onlinecode",routeConfig.config("/onlinecode/:paperId/:quesNo/:direction","/cand/onlinecode?v="+3,"onlinecodeController",cdn+"/extra/onlinecode/onlinecodeController.js?v="+3)).state("main.prj",routeConfig.config("/prj/:paperId/:quesNo/:direction","/cand/prj?v="+1,"prjController",cdn+"/extra/prj/prjController.js?v="+1));$urlRouterProvider.otherwise("/main/personalInfo")});app.factory("App",function(){return new function(){var zis=this;this.CompInfo=CompInfo;this.myInfo={};this.Papers=null;this.cs={};this.answering=false;this.paperAns=[];this.login=function($state){location.href="/cand/login"};this.checkData=function(data,$state){if(data==Object.someStr){zis.login();return false}else return true};this.serverTime={allTime:0,usedTime:0};if(user&&Object.isNullString(user.vipCode))user.vipCode=parseInt(3+Math.random()*297);this.time1=Date.now().toString();this.time2=Date.now().toString();this.time3=Date.now().toString();this.e=function(t){return aen(t,user._id,user.id,user.vipCode)};this.d=function(t){return ade(t,user._id,user.id,user.vipCode)};this.formatTime=function(s){var lefttime=s;var iDay=parseInt(lefttime/86400);lefttime-=iDay*86400;var iHour=parseInt(lefttime/3600);lefttime-=iHour*3600;var iMinute=parseInt(lefttime/60);var iSec=lefttime-iMinute*60;return{day:iDay,hours:iHour.twoNum(),mins:iMinute.twoNum(),secs:iSec.twoNum()}};this.timer=null;this.savePaper=function(paper){sessionStorage[this.e(paper._id)]=this.e(JSON.stringify(paper));this[paper._id]=paper;this.savePapersAllAns(paper._id,[])};this.getPaper=function(_id){if(!Object.isNull(this[_id]))return this[_id];var key=this.e(_id);if(!Object.isNullString(sessionStorage[key]))this[_id]=JSON.parse(this.d(sessionStorage[key]));return this[_id]};this.savePapersAllAns=function(paperId,objAns){sessionStorage[this.e(paperId+"Ans")]=this.e(JSON.stringify(objAns));this[paperId+"Ans"]=objAns};this.getPapersAllAns=function(paperId){var key=paperId+"Ans";if(!Object.isNull(this[key]))return this[key];var key1=this.e(key);if(!Object.isNullString(sessionStorage[key1]))this[key]=JSON.parse(this.d(sessionStorage[key1]));return this[key]};this.updatePapersAns=function(paperId,rowNumber,ans,lang,saveStatus){var objAll=this.getPapersAllAns(paperId);objAll[rowNumber/100]={ans:Object.isNullString(ans)?"":ans,lang:lang,ss:saveStatus};this.savePapersAllAns(paperId,objAll)};this.saveQues=function(paperId,ques,saveStatus){sessionStorage[this.e(paperId+"_"+ques.rowNumber)]=this.e(JSON.stringify(ques));this[paperId+"_"+ques.rowNumber]=ques;this.updatePapersAns(paperId,ques.rowNumber,ques.answer,ques.lang,saveStatus)};this.getQues=function(paperId,rowNumber){var key=paperId+"_"+rowNumber;if(!Object.isNull(this[key]))return this[key];var key1=this.e(key);if(!Object.isNullString(sessionStorage[key1]))this[paperId+"_"+rowNumber]=JSON.parse(this.d(sessionStorage[key1]));return this[paperId+"_"+rowNumber]};this.checkQuesSave=function(){var bl=false;if(this.paper){var noSave=[];var allAns=this.getPapersAllAns(this.paper._id);for(var i=0;i<this.paper.quesNum;i++){var ques=allAns[i];if(ques){if(ques.ss==false)noSave.push(i+1)}}if(noSave.length>1){bl=true;return noSave.join(", ")}}return""};this.updateStepMenuUI=function(){if(this.serverTime.usedTime>=0){if(isMobile){$("div.list > ul > li:eq(3)").html("<span>03</span> <div>"+ACM.lang.main.beginExam+"</div>")}else{$("div.list > ul > li:eq(3)").html("<span>04</span> <div>"+ACM.lang.main.beginExam+"</div>")}if(nowView=="rules"){if($(".toolguider.rulesBtns a.next span.text").html()!=undefined&&$(".toolguider.rulesBtns a.next span.text").html().indexOf(ACM.lang.main.beginExam)==-1){$(".toolguider.rulesBtns a.next span.text").html(ACM.lang.main.beginExam)}}}else{if(isMobile){$("div.list > ul > li:eq(3)").html("<span>03</span> <div>"+ACM.lang.main.startPractice+"</div>")}else{$("div.list > ul > li:eq(3)").html("<span>04</span> <div>"+ACM.lang.main.startPractice+"</div>")}if(nowView=="rules"){if($(".toolguider.rulesBtns a.next span.text").html()!=undefined&&$(".toolguider.rulesBtns a.next span.text").html().indexOf(ACM.lang.main.startPractice)==-1&&this.serverTime.usedTime<-10){$(".toolguider.rulesBtns a.next span.text").html(ACM.lang.main.startPractice)}}}};this.rendPaperTime=function($rootScope){if($.cookie("onlyOne")){if($.cookie("onlyOne")==1){$.cxDialog({title:ACM.lang.main.warning,info:'<div class="showtip"><table align="center"><tbody><tr><td><i class="fa fa-exclamation-circle"></i></td><td><span class="fbig fb"></span>'+ACM.lang.main.loginOther+"</td></tr></tbody></table></div>",ok:function(){document.location.href="/cand/login"},okText:ACM.lang.main.loginAgain,background:"#000000",closeBtn:false,lockScroll:true,width:400,baseClass:"onlyone"});$.cookie("onlyOne","",{path:"/",expires:-1})}}if(this.serverTime==undefined){location.href="/cand/login"}if(this.serverTime.usedTime>=0&&typeof window.takephoto==="function"){ACMGlobal.allTime=this.serverTime.allTime;var results=/^[0-9]*[1-9][0-9]*$/.test(this.serverTime.usedTime/300)?true:false;if(results&&zis.myInfo.supervisor!="2"&&(nowView=="answer"||nowView=="onlinecode")){takephoto({content:user.guid,number:parseInt(this.serverTime.usedTime/300)})}}this.serverTime.mayStarted++;if(this.serverTime.usedTime>=0){examNotStart=false}if(this.serverTime.timeType==3&&this.serverTime.notStart==true){$(".nav #leftTime").html(ACM.lang.main.timeLater+'<br /><span class="time">00:00:00'+"</span>");return}if(nowView=="start"&&this.serverTime.usedTime<0){location.href="/cand/index";console.log("this is new!")}if(nowView=="myPhoto"){$(".lowtime").hide()}$rootScope.$broadcast("timeing.usedTime",this.serverTime.usedTime);if(this.serverTime.allTime>0){if(this.serverTime.usedTime<=0){if(this.serverTime.usedTime<0)this.serverTime.usedTime++;var ft=this.formatTime(-this.serverTime.usedTime);if(ft.day>0){if(ACM.lang.lang=="en"){$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time" style="font-size:15px;">{0}D{1}H{2}'.Format(ft.day,ft.hours,ft.mins)+"</span>")}else{$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time" style="font-size:15px;">{0}天{1}时{2}分'.Format(ft.day,ft.hours,ft.mins)+"</span>")}}else{$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time">{0}:{1}:{2}'.Format(ft.hours,ft.mins,ft.secs)+"</span>")}if(this.serverTime.usedTime>-10){$rootScope.$broadcast("practise.timeOver",autoSubmitFun)}if(this.serverTime.usedTime==0){}if(ft.hours==0&&ft.mins<15){}}else{this.serverTime.usedTime++;if(this.paperTime!=undefined){this.paperTime--}if(this.serverTime.usedTime>=0){if(this.serverTime.usedTime<=this.serverTime.allTime&&(this.paperTime!=undefined&&this.paperTime>0)){this.paperTime=parseInt(this.paperTime);var ft=this.formatTime(this.paperTime);$(".nav #leftTime").html(ACM.lang.main.paperCountDown+'<br /><span class="time">{0}:{1}:{2}'.Format(ft.hours,ft.mins,ft.secs)+"</span>");if(ft.hours==0&&ft.mins<3){if(sessionStorage["paper"+this.paper._id]==undefined){sessionStorage["paper"+this.paper._id]=1;cxalert(ACM.lang.hint,ACM.lang.main.endPaperTip)}}}else if(this.paperTime!=undefined&&this.paperTime<=0){var autoSubmitFun=function(){gotoHash("#/main/start")};$rootScope.$broadcast("timeOver.submitNow",autoSubmitFun)}}else{}}this.updateStepMenuUI()}};this.rendPostionTime=function($rootScope){if($.cookie("onlyOne")){if($.cookie("onlyOne")==1){$.cxDialog({title:ACM.lang.main.warning,info:'<div class="showtip"><table align="center"><tbody><tr><td><i class="fa fa-exclamation-circle"></i></td><td><span class="fbig fb"></span>'+ACM.lang.main.loginOther+"</td></tr></tbody></table></div>",ok:function(){document.location.href="/cand/login"},okText:ACM.lang.main.loginAgain,background:"#000000",closeBtn:false,lockScroll:true,width:400,baseClass:"onlyone"})}}if(this.serverTime==undefined){location.href="/cand/login"}if(this.serverTime.usedTime>=0&&typeof window.takephoto==="function"){ACMGlobal.allTime=this.serverTime.allTime;var results=/^[0-9]*[1-9][0-9]*$/.test(this.serverTime.usedTime/300)?true:false;if(results&&zis.myInfo.supervisor!="2"&&(nowView=="answer"||nowView=="onlinecode")){takephoto({content:user.guid,number:parseInt(this.serverTime.usedTime/300)})}}this.serverTime.mayStarted++;if(this.serverTime.usedTime>=0){examNotStart=false}if(this.serverTime.timeType==3&&this.serverTime.notStart==true){$(".nav #leftTime").html(ACM.lang.main.timeLater+'<br /><span class="time">00:00:00'+"</span>");return}if(nowView=="start"&&this.serverTime.usedTime<0){location.href="/cand/index";console.log("this is new!")}if(nowView=="myPhoto"){$(".lowtime").hide()}$rootScope.$broadcast("timeing.usedTime",this.serverTime.usedTime);if(this.serverTime.allTime>0){if(this.serverTime.usedTime<=0){if(this.serverTime.usedTime<0)this.serverTime.usedTime++;var ft=this.formatTime(-this.serverTime.usedTime);if(ft.day>0){if(ACM.lang.lang=="en"){$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time" style="font-size:15px;">{0}D{1}H{2}'.Format(ft.day,ft.hours,ft.mins)+"</span>")}else{$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time" style="font-size:15px;">{0}天{1}时{2}分'.Format(ft.day,ft.hours,ft.mins)+"</span>")}}else{$(".nav #leftTime").html(ACM.lang.main.testCountdown+'<br /><span class="time">{0}:{1}:{2}'.Format(ft.hours,ft.mins,ft.secs)+"</span>")}if(this.serverTime.usedTime>-10){$rootScope.$broadcast("practise.timeOver",autoSubmitFun)}if(this.serverTime.usedTime==0){}if(ft.hours==0&&ft.mins<15){}}else{this.serverTime.usedTime++;if(this.serverTime.usedTime>=0){if(this.serverTime.usedTime<=this.serverTime.allTime){var ft=this.formatTime(this.serverTime.allTime-this.serverTime.usedTime);if(ft.day>0){if(ACM.lang.lang=="en"){$(".nav #leftTime").html(ACM.lang.main.examCountDown+'<br /><span class="time" style="font-size:15px;">{0}D{1}H{2}M'.Format(ft.day,ft.hours,ft.mins)+"</span>")}else{$(".nav #leftTime").html(ACM.lang.main.examCountDown+'<br /><span class="time" style="font-size:15px;">{0}天{1}时{2}分'.Format(ft.day,ft.hours,ft.mins)+"</span>")}}else{$(".nav #leftTime").html(ACM.lang.main.examCountDown+'<br /><span class="time">{0}:{1}:{2}'.Format(ft.hours,ft.mins,ft.secs)+"</span>")}if(ft.hours==0&&ft.mins<5){if(limitedThree){$(".header ul li.textName").css("background","#ff0000");$(".modal-dialog").attr("style","");$(".modal-dialog .modal-body").attr("style","");$(".modal-dialog .modal-footer").attr("style","");$(".modal-dialog .modal-content").attr("style","");cxalert(ACM.lang.hint,ACM.lang.main.endExamTip);limitedThree=false}}}else{var ft=this.formatTime(this.serverTime.usedTime-this.serverTime.allTime);var autoSubmitFun=function(){location.href="https://cdn.acmcoder.com/release/exam/1.2.4/htmls/exam/autosubmit.html"};if(zis.answering){$rootScope.$broadcast("timeOver.submitNow",autoSubmitFun)}else{autoSubmitFun()}}}else{}}this.updateStepMenuUI()}};this.rendTime=function($rootScope){if(this.myInfo.timeType==1){if(nowView=="answer"||nowView=="onlinecode"){this.rendPaperTime($rootScope)}else{this.rendPostionTime($rootScope)}}else{this.rendPostionTime($rootScope)}};this.submitAPaperDo=function($http,$state,paperId,callback){$http.post("/cand/api/submitAPaper",{paperId:paperId}).success(function(data){if(zis.checkData(data,$state)){setTimeout(callback,10)}else{}}).error(function(data){console.log(data)})};this.submitAPaper=function($http,$state,paperId,callback){if(zis.myInfo.timeType==1&&zis.paperTime<3||zis.serverTime.usedTime>=zis.serverTime.allTime){zis.submitAPaperDo($http,$state,paperId,function(){$("#lean_overlay,#submitmodal").css({display:"none"});callback()})}else{var strPrompt=ACM.lang.main.submitPaperTip1;if(!zis.paper.editAnswerAfterSubmit){strPrompt=ACM.lang.main.submitPaperTip2}if(zis.paper&&!Object.isNullString(zis.paper.submitPrompt)&&zis.lang.lang!="en"){strPrompt=zis.paper.submitPrompt}else if(zis.paper&&!Object.isNullString(zis.paper.submitPrompt)&&zis.lang.lang=="en"){strPrompt=zis.lang.main.submitPrompt}else if(zis.paper&&!Object.isNullString(zis.paper.submitPrompt)){strPrompt=zis.paper.submitPrompt}else{}$("#cxdialog").attr("style","");$.cxDialog({title:ACM.lang.hint,background:"#000000",info:'<div class="showtip"><table align="center"><tbody><tr><td><i class="fa fa-exclamation-triangle"></i></td><td><span class="fbig fb"></span>'+strPrompt+"</td></tr></tbody></table></div>",ok:function(){zis.submitAPaperDo($http,$state,paperId,function(){$("#lean_overlay,#submitmodal").css({display:"none"});callback()})},okText:ACM.lang.ok,no:function(){},noText:ACM.lang.no})}};this.updatePaperServer=function($http,paperId){if(this.myInfo.timeType==1){$http.post("/cand/api/eochRigidTime",{positionId:this.myInfo.positionId,paperId:paperId,r:Math.random()}).success(function(data){if(data.errno==23){cxalertBack(ACM.lang.hint,ACM.lang.main.timeArrived,function(){gotoHash("#/main/start")})}else{if(data.result!=""){zis.paperTime=data.result}}}).error(function(data){console.log(data)})}};this.updateFromServer=function($http,$state){$http.post("/cand/api/echoTimetoClient",{r:Math.random()}).success(function(data){if(zis.checkData(data,$state)){zis.serverTime=data[1];zis.cs=data[0];window.top.ACMGlobal.allTime=zis.serverTime.allTime;if(zis.cs&&zis.cs.submit==true){location.href="https://cdn.acmcoder.com/release/exam/1.2.4/htmls/exam/endexam.html"}}else{if(Object.isNull(zis.serverTime))zis.serverTime={}}}).error(function(data){console.log(data)})};this.refreshPapers=function($http,$state,$stateParams,callback){$http.post("/cand/api/fetchPapersAndQuesForCand",{paperId:$stateParams.paperId}).success(function(data){if(zis.checkData(data,$state)){zis.Papers=data.papers;zis.Answers=data.answers;if(zis.Papers&&zis.Papers.length){for(var i=0;i<zis.Papers.length;i++){if(zis.Papers[i]._id==zis.paperId){zis.paper=zis.Papers[i];break}}}else{zis.paper=null;zis.ques=[]}if(callback)callback()}else{zis.Papers=[]}}).error(function(data){console.log(data)})};this.refreshMyInfoFun=function($http,$timeout,$state){$http.post("/cand/refreshMyInfo",{r:Math.random()}).success(function(data){zis.myInfo=data?data:{};zis.version={};zis.version.isPc=true;user.positionId=zis.myInfo.positionId;user.guid=zis.myInfo.guid;if(zis.myInfo.timeType==1&&zis.paper!=undefined&&zis.paper._id!=undefined){zis.updatePaperServer($http,zis.paper._id)}if(document.body.clientWidth<800){zis.version.isPc=false;$("body").addClass("mobile")}zis.version.key=1;var cookieCompData={};if($.cookie("entInfo")){cookieCompData=$.parseJSON($.cookie("entInfo"));zis.version.key=parseInt(cookieCompData.exam_version)}else{location.href="/cand/login"}var prjInfo={viewResult:zis.myInfo.viewResult,againAnswer:zis.myInfo.againAnswer,guid:zis.myInfo.guid,id:zis.myInfo._id,domain:location.host.substr(0,location.host.indexOf("."))};$.cookie("prjInfo",JSON.stringify(prjInfo),{path:"/",domain:"acmcoder.com"});if(zis.myInfo.endExamNotes!=undefined&&zis.myInfo.endExamNotes!=""){$.cookie("endExamNotes",zis.myInfo.endExamNotes,{path:"/",domain:"acmcoder.com"})}zis.version.prjtypeTitle=ACM.lang.prjtype0+ACM.lang.system;zis.version.paperName="";if(zis.myInfo.prjtype=="0"){zis.version.prjtypeTitle=ACM.lang.prjtype0}else if(zis.myInfo.prjtype=="1"){zis.version.prjtypeTitle=ACM.lang.prjtype1}else if(zis.myInfo.prjtype=="2"){zis.version.prjtypeTitle=ACM.lang.prjtype2}else{zis.version.prjtypeTitle=zis.myInfo.prjtype}if(zis.version.key!=1){zis.CompInfo.compLogo=cookieCompData.compLogo}if(zis.version.key==2||zis.version.key==3){$(".noticeTips").show()}$.cookie("prjtype",zis.version.prjtypeTitle,{domain:"acmcoder.com",path:"/",expiress:7});if(zis.version.key==1||zis.version.key==4){zis.version.paperName=zis.CompInfo.compName+" "+zis.myInfo.positionTitle;$("head title").html(zis.CompInfo.compName+zis.version.prjtypeTitle+ACM.lang.system)}else{if(cookieCompData.webTitle!=undefined&&cookieCompData.webTitle!=""){zis.version.paperName=zis.CompInfo.compName+" "+cookieCompData.webTitle+"   "+zis.myInfo.positionTitle;$("head title").html(zis.CompInfo.compName+cookieCompData.webTitle+zis.version.prjtypeTitle+ACM.lang.system)}else{zis.version.paperName=zis.CompInfo.compName+" "+zis.myInfo.positionTitle;$("head title").html(zis.CompInfo.compName+zis.version.prjtypeTitle+ACM.lang.system)}}$(".personalMustViewBox").removeClass("hide");$("#faceRecognition").val(data.faceRecognition);window.ACMGlobal.faceRecognition=data.faceRecognition;window.ACMGlobal.mobile=data.mobile;window.ACMGlobal.socialRecruitment=data.socialRecruitment;window.ACMGlobal.timeType=data.timeType;if(ACMGlobal.socialRecruitment){$(".noticeTips").remove();$(".examtype").html(ACM.lang.prjtype0)}window.ACMGlobal.idcard=data.idcard;if(data.idcard!=null&&data.idcard!=""){window.ACMGlobal.idcard=data.idcard.replace("'","")}window.ACMGlobal.realName=data.realName;window.ACMGlobal.candId=data._id;if(window.ACMGlobal.faceRecognition){if(location.hash.indexOf("myPhoto")>-1){$(".innerInfo .stepinfo .tip .title").html(ACM.lang.photo.faceIdTip);$(".ifh5").html(ACM.lang.photo.faceRecognitionInfo);$("#showc a").html(ACM.lang.photo.interFaceRecognition)}}else{$("#showc a").attr("style","left: 335px;")}zis.updateFromServer($http,$state);$timeout(function(){if(window.ACMGlobal.candId!=undefined){initMainHtml()}if(window.websocketInit!=true&&typeof wsInit=="function"){wsInit();window.websocketInit=true}})}).error(function(data){console.log("Error: "+data)})};this.refreshMyInfo=function($http,$timeout,$state){if(localStorage.lang!=undefined){zis.lang=ACM.lang=$.parseJSON(localStorage.lang);zis.refreshMyInfoFun($http,$timeout,$state);$script(["https://cdn.acmcoder.com/release/exam/1.2.4/config/lang/zh-cn.js"],function(){zis.lang=ACM.lang;localStorage.lang=JSON.stringify(ACM.lang)})}else{$script(["https://cdn.acmcoder.com/release/exam/1.2.4/config/lang/zh-cn.js"],function(){zis.lang=ACM.lang;localStorage.lang=JSON.stringify(ACM.lang);zis.refreshMyInfoFun($http,$timeout,$state)})}};this.enterPaperNow=function($http,paperId,rowNumber){$http.post("/cand/api/enterPaperNow",{r:Math.random(),paperId:paperId,rowNumber:rowNumber}).success(function(data){}).error(function(data){})}}});app.filter("trustHtml",function($sce){return function(input){if(input!=undefined){input=input.toString();input=input.replace(/<br>/g,"\n").replace(/<br\/>/g,"\n");return $sce.trustAsHtml(input)}}});app.filter("quesType",function($sce){return function(input){var match=[ACM.lang.main.quesType0,ACM.lang.main.quesType1,ACM.lang.main.quesType2,ACM.lang.main.quesType3,ACM.lang.main.quesType4,ACM.lang.main.quesType5,ACM.lang.main.quesType6];var ret="";var i=input;if(i==100){ret=ACM.lang.main.quesType7}else{if(i>0&&i<=match.length){ret=match[i-1]}}return ret}});var CODE_LANG_HD=["G++","GCC","C++","C","Pascal","Java","C#","Javascript"];var ARR_RUN_RESULT_HD=["编译中 ( Compiling )","编译中 ( Compiling )","编译中 ( Compiling )","运行中 ( Running )","评判中 ( Judging )","编译通过，运行结果正确 ( Accepted(AC) )","错误 ( Wrong Answer(WA) )","运行时错误 ( Runtime Error(RE) )","编译通过，运行结果正确 ( Accepted(AC) )","超出时间限制 ( Time Limit Exceeded (TLE) )","超出内存限制 ( Memory Limit Exceeded (MLE) )","超出输出限制 ( Output Limit Exceeded (OLE) )","编译错误 ( Compilation Error (CE) )","系统错误 ( System Error (SE) )","考试已结束 ( Out Of Contest Time )","没有这道题目 ( Data Missed )"];var CODELANGS={};CODELANGS["3"]="Java 8";CODELANGS["14"]="Clang++";CODELANGS["13"]="Clang";CODELANGS["1"]="C++";CODELANGS["0"]="C";CODELANGS["7"]="PHP";CODELANGS["9"]="C#";CODELANGS["6"]="Python 2.7";CODELANGS["32"]="Python 3";CODELANGS["18"]="JavaScript(V8)";CODELANGS["4"]="Ruby";CODELANGS["5"]="Bash";CODELANGS["10"]="Obj-C";CODELANGS["19"]="NodeJs";CODELANGS["15"]="Lua";CODELANGS["17"]="Go";CODELANGS["21"]="SQLite3";CODELANGS["22"]="R";CODELANGS["23"]="Hadoop";var DEFCODELANGS="3,1,0,18,19,6,32,14,13,9,7,10,4,5,15,17,21,22,23";var CODE_LANG=["C","C++","Pascal","Java","Ruby","Bash","Python 2","PHP","Perl","C#","Obj-C","FreeBasic","Schema","Clang","Clang++","Lua","Swift","Go","javascript","nodejs","","SQLite3","R","Hadoop","","","","","","","","","Python 3"];var ARR_RUN_RESULT=["您的程序正在排队提交，并运行中，请稍等 ( Waiting ) ","等待重判 ( Waiting )","编译中 ( Compiling )","运行并评判 ( Running & Judging )","编译通过，运行结果正确 ( Accepted(AC) )","格式错误 ( Presentation Error (PE) )","答案错误 ( Wrong Answer(WA) )","时间超限 ( Time Limit Exceeded (TLE) )","内存超限 ( Memory Limit Exceeded (MLE) )","输出超限 ( Output Limit Exceeded (OLE) )","运行错误 ( Runtime Error(RE) )","编译错误 ( Compilation Error (CE) )","编译成功 ( Compiles Successfully )","运行完成 ( Run Complete )",""];app.filter("runResult",function($sce){return function(input){var match=ARR_RUN_RESULT;var ret="";var i=input;if(i>0&&i<=match.length){ret=match[i-1]}return ret}});app.filter("ExcelDate",function(){return function(input){if(!Object.isNullString(input)){if(!Object.isNullString(input)){if(input.toString().indexOf("-")>-1)return input;else if(input>0)return new Date(parseInt(input)*(24*60*60*1e3)+Date.UTC(1899,11,30))}}}});app.directive("dateFormat",["$filter",function($filter){var dateFilter=$filter("date");return{require:"?ngModel",link:function(scope,elm,attrs,ctrl){function formatter(value){if(!Object.isNullString(value)){if(value.toString().indexOf("-")>-1)return value;else if(value>0){var rv=new Date(value*(24*60*60*1e3)+Date.UTC(1899,11,30));return dateFilter(rv,"yyyy-MM-dd")}}}function parser(){return ctrl.$modelValue}if(ctrl&&ctrl.$formatters){ctrl.$formatters.push(formatter);ctrl.$parsers.unshift(parser)}}}}]);var entno={get:function(){return{}},set:function($v){}};var entyes={get:function(){if(typeof myblur!="undefined"){return myblur}else{return null}},set:function($v){}};